<!DOCTYPE html>
<%- include("../pcpheader",{page_name:"pcp",section_name:'home'}) %>

<head>
  <link rel="stylesheet" href="/stylesheets/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
 <style>
    ::-webkit-scrollbar-track {
      box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
      -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
      background-color: #F5F5F5;
    }

    ::-webkit-scrollbar {
      width: 10px;
      background-color: #F5F5F5;
    }

    ::-webkit-scrollbar-thumb {
      background-color: grey;
    }

    ::-webkit-scrollbar {
      width: 10px;
      background-color: #F5F5F5;
    }

    ::-webkit-scrollbar-thumb {
      background-color: grey;
    }

    th {
      text-align: center;
    }

    .alert {
      margin-bottom: 1px;
      height: 30px;
      line-height: 30px;
      padding: 0px 15px;
      font-weight: bold;
    }

    .modal-dialog {
      width: 600px;
      height: 580px !important;
    }

    .modal-content {
      /* 60% of window height */
      height: 60%;
    }

    #prettyprintHead {
      opacity: 0;
      position: absolute;
      z-index: -9999;
      pointer-events: none;
    }

    .segmented-control {
      height: 30px;
      font-size: 11px;
    }

    .row {
      margin-bottom: 10px;
    }

    .loadingText {
      font-size: 20px !important;
    }

    h5 {
      font-weight: bold;
      font-size: 14px;
    }

    span.info {
      font-weight: normal;
      line-height: 2em;
      font-size: 12px;
    }

  </style>
  <script src="https://cdn.jsdelivr.net/npm/gasparesganga-jquery-loading-overlay@2.1.6/dist/loadingoverlay.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>

  <script src="/pcpstatic/chance.js"></script>
  <script src="/pcpstatic/payload.js"></script>
  <script src="/pcpstatic/address.js"></script>
  <script src="/pcpstatic/ppbutton.js"></script>
  <script src="/pcpstatic/hosted.js"></script>
  <script src="/pcpstatic/scriptloader.js"></script>
  
</head>

<body>
  <div class="container">
    <div class="row">

      <div class="col-md-6">
        <h4><u>
            <center><mark>Customize the PayPal experience and click on Save</mark> </center>
          </u></h4>

        <button class="btn btn-md" style="display:flex;margin:auto;cursor:pointer;background-color:#319DD4;color:white"
          onclick="save()">Save
        </button>

        <div class="row">
          <div class="col-md-10">
            <h5>Environment </h5>
            <select name="environment" class="form-control input-sm" style="color:#319DD4">
              <option value="sandbox" selected>Sandbox</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Client ID 
              <span class="info">
                <br/>
                - If you change this value, please enter Client Secret 
              </span>

            </h5>
            <input type="text" class="form-control input-sm" placeholder="Enter Client Id" style="color:black"

            onchange="handleClientIDChange()"

              name="clientId" value="AVajOV0VnH8tD0mWYqeWH22uB-DOIWPO5yRzmrqTCOeWx0oopJfeZl6NiL1NAITC3mKiTY1XuAT_mXeh">
          </div>

        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Client Secret
              <span class="info">
                <br/>
                - If you change the Client ID, please enter this value 
              </span>
            </h5>
            <input type="password" class="form-control input-sm" placeholder="Enter Client Secret" style="color:black"
              name="clientSecret" disabled
              value="">
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Is Partner ?</h5>
            <select name="isPartner" id="isPartner" class="form-control input-sm control-sm" style="color:black"
              onchange="partnerChange()">
              <option value="Yes" >Yes</option>
              <option value="No" selected>No</option>
            </select>
          </div>
        </div>


        <div class="row" id="mspContainer">
          <div class="col-md-10">
            <h5>Is Multi Seller Purchase (MSP) ? - Applicable only for Partner Flow </h5>
            <select name="isMSP" id="isMSP" class="form-control input-sm control-sm" style="color:black">
              <option value="Yes" >Yes</option>
              <option value="No" selected>No</option>
            </select>
          </div>
        </div>


        <div class="row">
          <div class="col-md-10">
            <h5>Merchant ID (Applicable and Required only for Partner Flow)
              <span class="info"><br/>
                - Ensure that the Merchants are onboarded using Partner Client ID 
                <br/>
                - Comma Separated values for Multi Seller Purchase <br/>
              - Picks the first value from below for Single Seller Purchase <br/>
            </span>
          </h5>
            
            <input type="text" class="form-control input-sm" placeholder="Enter Merchant Id" style="color:black"
              name="merchantId" value="3M5SFHD87UCNA,Z8CBBYH86KX3C">
          </div>
        </div>
        <!-- 3M5SFHD87UCNA,Z8CBBYH86KX3C -->

        <div class="row">
          <div class="col-md-10">
            <h5>Intent</h5>
            <div class="segmented-control" style="width: 100%; color: #f7ae40">
              <input type="radio" name="intent" id="intent-capture" data-value="capture" checked>
              <input type="radio" name="intent" id="intent-auth" data-value="authorize">

              <label for="intent-capture" data-value="capture">capture</label>
              <label for="intent-auth" data-value="authorize">authorize</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Components</h5>

            <div class="segmented-control" style="width: 100%;color:#8D74C0">
              <input type="checkbox" name="components" id="sc-6-1-1" data-value="buttons" checked value="buttons">
              <label for="sc-6-1-1" data-value="buttons">buttons</label>
            </div>

            <div class="segmented-control" style="width: 100%;color:#8D74C0">
              <input type="checkbox" name="components" id="sc-6-1-2" data-value="hosted-fields" value="hosted-fields">
              <label for="sc-6-1-2" data-value="hosted-fields">hosted-fields</label>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Customer ID (Required for Vaulting)
              
              <span class="info"><br/>
                - Please use a unique buyer for each unique Customer ID per merchant  
                <br/>
                - Use this same ID, when the buyer visits the site again to show the vaulted cards 
              </span>
            </h5>
            <input type="text" class="form-control input-sm" placeholder="Enter Customer Id" style="color:black"
              name="customerId" value="CUSTOMER_123">
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Locale</h5>
            <select name="locale" class="form-control input-sm control-sm" style="color:#319DD4">
              <% Object.entries(config.LOCALES).forEach(function([country, langs]){ 
                  langs.forEach(function(lang) { %>
              <option value="<%= lang %>_<%= country%>">
                <%= lang %>_<%= country%>
              </option>
              <%   })
                %>

              <% }); %>
            </select>
          </div>
        </div>



        <div class="row">
          <div class="col-md-10">
            <h5>Buyer Country</h5>
            <select name="buyercountry" class="form-control input-sm control-sm" style="color:#319DD4">
              <% Object.keys(config.COUNTRY).forEach(function(key){ %>
              <option value="<%= config.COUNTRY[key] %>">
                <%- config.COUNTRY[key] %>
              </option>
              <% }); %>
            </select>
          </div>
        </div>



        <div class="row">
          <div class="col-md-10">
            <h5>Amount </h5>
            <input type="number" value="5.00" name="amount" class="form-control input-sm control-sm" />
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Currency</h5>

            <select name="currency" class="form-control input-sm control-sm" style="color:#319DD4">
              <% Object.keys(config.CURRENCY).forEach(function(key){ %>
              <option value="<%= config.CURRENCY[key] %>">
                <%- config.CURRENCY[key] %>
              </option>
              <% }); %>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Hosted Fields Template</h5>
            <select name="hostedFieldsType" id="hostedFieldsType" class="form-control input-sm control-sm"
              style="color:black">
              <option value="Bootstrap" selected>Bootstrap</option>
              <option value="Animate">Animate</option>
              <option value="3dtransform">3dtransform</option>
              <option value="Minimal">Minimal</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>3DS Enabled ?</h5>
            <select name="3dsEnabled" id="3dsEnabled" class="form-control input-sm control-sm" style="color:black">
              <option value="Yes">Yes</option>
              <option value="No" selected>No</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Vaulting Enabled ?
              <span class="info"><br/>
              - Click on the save button again once you vault a card, to see the vaulted card 
            </span>
            </h5>
            <select name="vaultingEnabled" id="vaultingEnabled" class="form-control input-sm control-sm"
              style="color:black">
              <option value="Yes">Yes</option>
              <option value="No" selected>No</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Prefill Shipping Address ?</h5>
            <div class="segmented-control" style="width: 100%; color: #f7ae40">
              <input type="radio" name="prefill-shipping-address" id="prefill-shipping-address-true" data-value="true"
                checked>
              <input type="radio" name="prefill-shipping-address" id="prefill-shipping-address-false"
                data-value="false">

              <label for="prefill-shipping-address-true" data-value="true">true</label>
              <label for="prefill-shipping-address-false" data-value="false">false</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Prefill Billing Address ?</h5>
            <div class="segmented-control" style="width: 100%; color: #f7ae40">
              <input type="radio" name="prefill-billing-address" id="prefill-billing-address-true" data-value="true"
                checked>
              <input type="radio" name="prefill-billing-address" id="prefill-billing-address-false" data-value="false">

              <label for="prefill-billing-address-true" data-value="true">true</label>
              <label for="prefill-billing-address-false" data-value="false">false</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Set Locale ?</h5>
            <div class="segmented-control" style="width: 100%; color: #5FBAAC">
              <input type="radio" name="set-locale" id="set-locale-true" data-value="true" checked>
              <input type="radio" name="set-locale" id="set-locale-false" data-value="false">

              <label for="set-locale-true" data-value="true">true</label>
              <label for="set-locale-false" data-value="false">false</label>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-md-10">
            <h5>Set Buyer-Country ?</h5>
            <div class="segmented-control" style="width: 100%; color: #8D74C0">
              <input type="radio" name="set-buyercountry" id="set-buyercountry-true" data-value="true" checked>
              <input type="radio" name="set-buyercountry" id="set-buyercountry-false" data-value="false">

              <label for="set-buyercountry-true" data-value="true">true</label>
              <label for="set-buyercountry-false" data-value="false">false</label>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-md-10">
            <h5>Layout</h5>
            <select name="layout" id="layout" class="form-control input-sm control-sm" style="color:#319DD4"
              onchange="renderPPButton(true)">
              <option value="vertical" selected>Vertical</option>
              <option value="horizontal">Horizontal</option>
            </select>
          </div>
        </div>


        <div class="row">
          <div class="col-md-10">
            <h5>Color</h5>
            <select name="color" id="color" class="form-control input-sm control-sm" style="color:#319DD4"
              onchange="renderPPButton(true)">
              <option value="gold" selected>Gold</option>
              <option value="blue">Blue</option>
              <option value="silver">Silver</option>
              <option value="black">Black</option>
              <option value="white">White</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Shape</h5>
            <select name="shape" id="shape" class="form-control input-sm control-sm" style="color:#319DD4"
              onchange="renderPPButton(true)">
              <option value="rect" selected>Rectangle</option>
              <option value="pill">Pill</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-10">
            <h5>Label</h5>
            <select name="label" id="label" class="form-control control-sm input-sm" style="color:#319DD4"
              onchange="renderPPButton(true)">
              <option value="paypal" selected>PayPal</option>
              <option value="checkout">Checkout</option>
              <option value="pay">Pay</option>
              <option value="buynow">Buynow</option>
              <option value="installment">Installment</option>
            </select>
          </div>
        </div>


        <div class="row">
          <div class="col-md-10">
            <h5>Tagline ?</h5>
            <select name="tagline" id="tagline" class="form-control input-sm control-sm" style="color:#319DD4"
              onchange="renderPPButton(true)">
              <option value="true">Yes</option>
              <option value="false" selected>No</option>
            </select>
          </div>
        </div>



        <br /><br />


      </div>
      <div class="col-md-6 col-sm-12 col-xs-12">

        <div id="paypal-button" style="margin-top:10%;display:none"></div>
        <div id="paypal-error-container" style="display:none;color:red;font-weight:bold"></div>
        <br />

        <div id="hostedButton" style="display:none">
          <div id="hcontainer">

          </div>
        </div>

        <div id="consoleWindow" class="panel panel-primary" style="width:100%;background-color:black">

          <div class="panel-heading">
            <p>Playground Status</p>
          </div>

          <div class="panel-body" style="margin:0px;margin-bottom:10px;width:100%;overflow-y:auto;">
            <div id="plgStatus" style="color:white;">
            </div>
          </div>

        </div>


        <!-- <button class="btn btn-primary btn-md openBtn">View Source Code</button> -->

      </div>

    </div>

  </div>

  <script>
    loadPPAndHostedJS('buttons');
  </script>

  <script>
    function handleEnvChange() {

      var env = $("[name=environment]").val();
      if (env == "production") {
        $("[name=clientId]").val('');
        $("[name=clientSecret]").val('');
        $("[name=merchantId]").val();
        
        $("[name=set-locale][data-value=false]").attr("checked", true)
        $("[name=set-buyercountry][data-value=false]").attr("checked", true)


      } else {
        $("[name=clientId]").val('AVajOV0VnH8tD0mWYqeWH22uB-DOIWPO5yRzmrqTCOeWx0oopJfeZl6NiL1NAITC3mKiTY1XuAT_mXeh');
        $("[name=clientSecret]").val('');

        $("[name=set-locale][data-value=true]").attr("checked", true)
        $("[name=set-buyercountry][data-value=true]").attr("checked", true)

        $("[name=merchantId]").val('3M5SFHD87UCNA,Z8CBBYH86KX3C');
      }

    }

    function partnerChange() {
      var isPartner = $("#isPartner").val() === "Yes";
      if (!isPartner) {
        $("#isMSP").val("No")
      }
    }

    function handleClientIDChange() {
      let clientID = $("[name=clientId").val().trim();
      if(clientID === CLIENT_ID) {
        $("[name=clientSecret").attr("disabled", true);
        return;
      }
      $("[name=clientSecret").attr("disabled", false);
    }

   var customerId = chance.string({ length: 10, casing: 'upper', alpha: true, numeric: true });

   $("[name=customerId").val(customerId);
  

  </script>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>

  <%- include("../footer") %>

</body>

</html>